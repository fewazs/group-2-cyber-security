{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function AdminDashboard(){const[domain,setDomain]=useState('');const[duration,setDuration]=useState('');const[devices,setDevices]=useState([]);const[message,setMessage]=useState('');useEffect(()=>{fetchDevices();},[]);const fetchDevices=async()=>{const res=await axios.get('/admin/devices');setDevices(res.data.devices);};const blockDomain=async()=>{const res=await axios.post('/admin/block',{domain});setMessage(res.data.success?\"Blocked \".concat(domain):'Block failed');};const unblockDomain=async()=>{const res=await axios.post('/admin/unblock',{domain});setMessage(res.data.success?\"Unblocked \".concat(domain):'Unblock failed');};const suspendDomain=async()=>{const res=await axios.post('/admin/suspend',{domain,duration});setMessage(res.data.success?\"Suspended \".concat(domain,\" for \").concat(duration,\" seconds\"):'Suspend failed');};return/*#__PURE__*/_jsxs(\"div\",{className:\"admin-dashboard\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Admin Controls\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Domain\",value:domain,onChange:e=>setDomain(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"Suspend Duration (seconds)\",value:duration,onChange:e=>setDuration(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{onClick:blockDomain,children:\"Block\"}),/*#__PURE__*/_jsx(\"button\",{onClick:unblockDomain,children:\"Unblock\"}),/*#__PURE__*/_jsx(\"button\",{onClick:suspendDomain,children:\"Suspend\"}),message&&/*#__PURE__*/_jsx(\"p\",{children:message}),/*#__PURE__*/_jsx(\"h3\",{children:\"Connected Devices\"}),/*#__PURE__*/_jsx(\"ul\",{children:devices.map((dev,idx)=>/*#__PURE__*/_jsx(\"li\",{children:dev},idx))})]});}export default AdminDashboard;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","AdminDashboard","domain","setDomain","duration","setDuration","devices","setDevices","message","setMessage","fetchDevices","res","get","data","blockDomain","post","success","concat","unblockDomain","suspendDomain","className","children","type","placeholder","value","onChange","e","target","onClick","map","dev","idx"],"sources":["/home/noname/Desktop/dns tunneling prevention v2/group-2-cyber-security/dashboard/react-frontend/src/AdminDashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nfunction AdminDashboard() {\n  const [domain, setDomain] = useState('');\n  const [duration, setDuration] = useState('');\n  const [devices, setDevices] = useState([]);\n  const [message, setMessage] = useState('');\n\n  useEffect(() => {\n    fetchDevices();\n  }, []);\n\n  const fetchDevices = async () => {\n    const res = await axios.get('/admin/devices');\n    setDevices(res.data.devices);\n  };\n\n  const blockDomain = async () => {\n    const res = await axios.post('/admin/block', { domain });\n    setMessage(res.data.success ? `Blocked ${domain}` : 'Block failed');\n  };\n\n  const unblockDomain = async () => {\n    const res = await axios.post('/admin/unblock', { domain });\n    setMessage(res.data.success ? `Unblocked ${domain}` : 'Unblock failed');\n  };\n\n  const suspendDomain = async () => {\n    const res = await axios.post('/admin/suspend', { domain, duration });\n    setMessage(res.data.success ? `Suspended ${domain} for ${duration} seconds` : 'Suspend failed');\n  };\n\n  return (\n    <div className=\"admin-dashboard\">\n      <h2>Admin Controls</h2>\n      <input\n        type=\"text\"\n        placeholder=\"Domain\"\n        value={domain}\n        onChange={e => setDomain(e.target.value)}\n      />\n      <input\n        type=\"number\"\n        placeholder=\"Suspend Duration (seconds)\"\n        value={duration}\n        onChange={e => setDuration(e.target.value)}\n      />\n      <button onClick={blockDomain}>Block</button>\n      <button onClick={unblockDomain}>Unblock</button>\n      <button onClick={suspendDomain}>Suspend</button>\n      {message && <p>{message}</p>}\n      <h3>Connected Devices</h3>\n      <ul>\n        {devices.map((dev, idx) => (\n          <li key={idx}>{dev}</li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n\nexport default AdminDashboard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}